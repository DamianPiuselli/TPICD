library(tidyverse)
library(tidyverse)
library(tidyverse)
library(tidyverse)
library(tidyverse)
library(tidyverse)
library(tidyverse)
install.packages("tidyverse")
library(tidyverse)
titanic_df <- read_csv(“"E:\Descargas\titanic.csv"”, locale = locale(decimal_mark = ","))
titanic_df <- read_csv(“"E:\\Descargas\\titanic.csv"”, locale = locale(decimal_mark = ","))
titanic_df <- read_csv("E:\\Descargas\\titanic.csv", locale = locale(decimal_mark = ","))
view(titanic_df)
titanic_df$age
min(titanic_df$age)
min(titanic_df$age, na.rm=TRUE)
min(titanic_df$fare)
max(titanic_df$fare)
unique(titanic_df$class)
unique(titanic_df$`Port of Embarkation`)
arrange(data, age)
arrange(titanic_df, age)
arrange(titanic_df, desc(age))
arrange(titanic_df, age, fare)
arrange(titanic_df, fare,age)
titanic_sex <- filter(titanic_df, sex=='female')
View(titanic_sex)
max(titanic_sex$age, na.rm=TRUE)
titanic_who <- filter(titanic_df, who=='child')
max(titanic_who$age, na.rm=TRUE)
ggplot(data = titanic_df) +
geom_bar(aes(x=sex))
ggplot(data = titanic_df) +
geom_bar(aes(x=siblings of the passenger))
ggplot(data = titanic_df) +
geom_bar(aes(x=siblings of the passenger))
ggplot(data = titanic_df) +
geom_bar(aes(x=who))
ggplot(data = titanic_df) +
geom_bar(aes(x=siblings of the passenger))
ggplot(data = titanic_df) +
geom_bar(aes(x=sex, fill=class))
ggplot(data = titanic_df) +
geom_bar(aes(x=‘siblings of the passenger’))
new_titanic_df <- rename(titanic_df, 'Puerto' = 'Port of Embarkation')
ggplot(data = titanic_df) +     geom_bar(aes(x=sex, fill=class))
ggplot(data = titanic_df) +
geom_bar(aes(x=clase, fill=who))
ggplot(data = titanic_df) +
geom_bar(aes(x=class, fill=who))
ggplot(data = titanic_df) +
geom_bar(aes(x=who, fill=class))
ggplot(data = titanic_df) +
geom_bar(aes(x=alone, fill=class))
ggplot(data = titanic_df) +
+     geom_bar(aes(x=alone, fill=who))
ggplot(data = titanic_df) +
geom_bar(aes(x=alone, fill=who))
ggplot(data = new_titanic_df) +
geom_bar(mapping = aes(x=alone, fill = class), position = "dodge")
ggplot(data = new_titanic_df) +
geom_bar(mapping = aes(x=alone, fill = who), position = 'fill')
titanic_groupwho <- group_by(titanic_df, who)
View(titanic_who)
summarise(titanic_groupwho, n())
summarise(titanic_df, n())
titanic_groupclass <- group_by(titanic_df, class)
summarise(titanic_groupclass, n())
titanic_groupparientes <- group_by(titanic_df, parents / children aboard the Titanic)
ggplot(data = titanic_df) +
+         geom_bar(aes(x=survived, fill=class))
ggplot(data = titanic_df) +
geom_bar(aes(x=survived, fill=class))
pnorm(1.2)-pnorm(-0.5)
qnorm(1-0.97)
qnorm(0.85,4,2)
norm(1.2,75,5)-pnorm(0.2,75,5)
pnorm(74,75,5)-pnorm(79,75,5)
M=0:30
plot(0:30,dbinom(M,30,0,1))
M=0:30
plot(0:30,dbinom(M,30,0.1))
dbinom(M,30,0.1)
M=0:30
plot(0:30,dbinom(M,30,0.1),type='h')
abline(v=3,col='red')
M=0:30
p=dbinom(M,30,0.1)
plot(0:30,dbinom(M,30,0.1),type='h')
abline(v=3,col='red')
M*p
sum(M*p)
E=sum(M*p)
M=0:30
p=dbinom(M,30,0.1)
plot(0:30,p,type='h')
abline(v=3,col='red')
M*p
E=sum(M*p)
M=0:30
p=dbinom(M,30,0.1)
plot(0:30,p,type='h')
abline(v=3,col='red')
M*p
E=sum(M*p)
sum((M-E)**2*P)
M=0:30
p=dbinom(M,30,0.1)
plot(0:30,p,type='h')
abline(v=3,col='red')
M*p
E=sum(M*p)
sum((M-E)**2p)
sum((M-E)**2*p)
sqrt(sum((M-E)**2*p))
dpois(10,10)
x=0:10
plot(0:10,dpois(x,10))
x=0:10
k=dpois(x,10)
plot(0:10,k)
E=sum(x*p)
E=sum(x*k)
x=0:100
k=dpois(x,10)
x=0:100
k=dpois(x,100)
plot(0:100,k)
x=0:1000
k=dpois(x,1000)
plot(0:1000,k)
x=0:1000
k=dpois(x,100)
plot(0:1000,k)
x=0:200
k=dpois(x,100)
plot(0:200,k)
J=sum(x*k)
x=70:130
k=dpois(x,100)
plot(X,k)
x=70:130
k=dpois(x,100)
plot(70:130,k)
x=70:130
k=dpois(x,100)
plot(70:130,k,type='h')
sum((x-J)**2*k)
J=sum(x*k)
J=sum(x*k)
J=sum(x*k)
x=0:200
k=dpois(x,100)
plot(0:200,k,type='h')
J=sum(x*k)
x=0:200
k=dpois(x,100)
plot(70:130,k,type='h')
x=0:200
k=dpois(x,100)
plot(0:200,k,type='h')
x*k*(1-x)
V=10*k*(1-10)
setwd("E:/Escritorio/TPICD-main")
orders <- read_csv("olist_orders_dataset.csv")
library(tidyverse)
library(modelr)
orders <- read_csv("olist_orders_dataset.csv")
order_items <- read_csv("olist_order_items_dataset.csv")
products <- read_csv("olist_products_dataset.csv")
sellers <- read_csv("olist_sellers_dataset.csv")
items <- read_csv("olist_order_items_dataset.csv")
payment <- read_csv("olist_order_payments_dataset.csv")
customers <- read_csv("olist_customers_dataset.csv")
geolocalation <- read_csv("olist_geolocation_dataset.csv")
geolocalation <- geolocalation %>%
group_by(geolocation_zip_code_prefix) %>%
summarise(geolocation_lat = median(geolocation_lat),
geolocation_lng = median(geolocation_lng))
# Función para calcular la distancia entre dos puntos en kilómetros utilizando la fórmula del haversine
haversine_distance <- function(lat1, lon1, lat2, lon2) {
# Radio de la Tierra en kilómetros
earth_radius <- 6371
# Convertir las coordenadas a radianes
lat1 <- lat1 * pi / 180
lon1 <- lon1 * pi / 180
lat2 <- lat2 * pi / 180
lon2 <- lon2 * pi / 180
# Diferencia entre las latitudes y longitudes
dlat <- lat2 - lat1
dlon <- lon2 - lon1
# Calcular el haversine
a <- sin(dlat/2)^2 + cos(lat1) * cos(lat2) * sin(dlon/2)^2
c <- 2 * asin(sqrt(a))
# Calcular la distancia
distance <- earth_radius * c
return(distance)
}
View(order_items)
View(orders)
orders %>%
mutate(order_delivered_customer_date = ymd_hms(order_delivered_customer_date))
glimpse(orders)
orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)- date(order_estimated_delivery_date))
orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)- date(order_estimated_delivery_date)) %>%
head(10)
orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)- date(order_estimated_delivery_date)) %>%
glimpse(10)
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)- date(order_estimated_delivery_date)) %>%
select(order_estimated_delivery_date, order_delivered_customer_date, retraso_envio)
View(retrasos)
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_density()
max(retrasos$retraso_envio)
max(retrasos$retraso_envio, na.rm=T)
min(retrasos$retraso_envio, na.rm=T)
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)-date(order_estimated_delivery_date)) %>%
select(order_purchase_timestamp,order_estimated_delivery_date, order_delivered_customer_date, retraso_envio)
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_boxplot()
retrasos %>%
ggplot(aes(y=retraso_envio))+
geom_boxplot()
retrasos %>%
ggplot(aes(y=retraso_envio))+
geom_histogram()
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_histogram()
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_histogram(binwidth = 5)
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_histogram(binwidth = 2)
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_histogram(binwidth = 10)
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_histogram(binwidth = 5)
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)-date(order_estimated_delivery_date)) %>%
mutate(tiempo_arribo = date(order_purchase_timestamp)-date(order_estimated_delivery_date)) %>%
select(order_purchase_timestamp,order_estimated_delivery_date, order_delivered_customer_date, retraso_envio)
retrasos %>%
ggplot(aes(x=tiempo_arribo))+
geom_density()
view(retrasos)
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)-date(order_estimated_delivery_date)) %>%
mutate(tiempo_arribo = date(order_purchase_timestamp)-date(order_estimated_delivery_date)) %>%
select(order_purchase_timestamp,order_estimated_delivery_date, order_delivered_customer_date, retraso_envio)
retrasos %>%
ggplot(aes(x=tiempo_arribo))+
geom_density()
glimpse(retrasos)
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)-date(order_estimated_delivery_date),
tiempo_arribo = date(order_purchase_timestamp)-date(order_estimated_delivery_date)) %>%
select(order_purchase_timestamp,order_estimated_delivery_date, order_delivered_customer_date, retraso_envio)
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_density()
retrasos %>%
ggplot(aes(x=tiempo_arribo))+
geom_density()
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)-date(order_estimated_delivery_date),
tiempo_arribo = date(order_purchase_timestamp)-date(order_estimated_delivery_date)) %>%
select(order_purchase_timestamp,order_estimated_delivery_date, order_delivered_customer_date, retraso_envio,
tiempo_arribo)
retrasos %>%
ggplot(aes(x=tiempo_arribo))+
geom_density()
retrasos <- orders %>%
mutate(retraso_envio = date(order_delivered_customer_date)-date(order_estimated_delivery_date),
tiempo_arribo = date(order_estimated_delivery_date)-date(order_purchase_timestamp)) %>%
select(order_purchase_timestamp,order_estimated_delivery_date, order_delivered_customer_date, retraso_envio,
tiempo_arribo)
retrasos %>%
ggplot(aes(x=tiempo_arribo))+
geom_density()
retrasos %>%
ggplot(aes(x=retraso_envio))+
geom_boxplot(binwidth = 5)
retrasos %>%
ggplot(aes(y=tiempo_arribo))+
geom_boxplot(binwidth = 5)
unique(orders$order_status)
orders %>%
ggplot(aes(x=order_status))+
geom_bar()
ggplot(aes(x=order_status, y=..density..)+
orders %>%
ggplot(aes(x=order_status, y=..density..))+
geom_bar()
orders %>%
orders %>%
ggplot(aes(x=order_status, y = stat_density(order_status)))+
geom_bar()
ggplot(aes(x=order_status)+
orders %>%
ggplot(aes(x=order_status))+
geom_bar()
orders %>%
retrasos %>%
ggplot(aes(y=tiempo_arribo))+
geom_boxplot(binwidth = 5)
orders %>%
ggplot(aes(x=order_status))+
geom_bar()
orders %>%
ggplot(aes(x=order_purchase_timestamp))+
geom_bar()
cut(orders$order_purchase_timestamp, "month")
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month"))
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
glimpse()
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
group_by(mes) %>%
summarise(numero_compras=n())
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
group_by(mes) %>%
summarise(numero_compras=n()) %>%
ggplot(aes(y=numero_compras, x=mes))+
geom_line()
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
group_by(mes) %>%
summarise(numero_compras=n()) %>%
ggplot(aes(y=numero_compras, x=mes))+
geom_point()
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
group_by(mes) %>%
summarise(numero_compras=n()) %>%
ggplot(aes(y=numero_compras, x=mes))+
geom_point()+
coord_flip()
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
group_by(mes) %>%
summarise(numero_compras=n()) %>%
ggplot(aes(y=numero_compras, x=mes))+
geom_point()
orders %>%
mutate(mes = cut(order_purchase_timestamp ,"month")) %>%
group_by(mes) %>%
summarise(numero_compras=n()) %>%
ggplot(aes(y=numero_compras, x=mes))+
geom_point()+
geom_line()
View(order_items)
retrasos %>%
ggplot(aes(x=tiempo_arribo))+
geom_density()
View(payment)
payment %>%
ggplot(aes(x=payment_type)) %>%
geom_bar()
payment %>%
ggplot(aes(x=payment_type)) +
geom_bar()
payment %>%
filter(payment_type=="credit_card") %>%
ggplot(aes(x=payment_installments)) +
geom_bar()
View(order_items)
